---
title: 服务器上的数据库使用
date: 2018-05-11 18:09:56
tags:
---

最近做安卓实验的时候，负责后台的程序编写，简单的使用了现在项目中的SpringMvc技术，在这次做实验中有很长一段时间在服务器上起环境，在其中的mysql的安装和使用以及数据查询上遇到了一些困难，在这里将问题简单的记录一下。

<!--more-->

<!--more-->

远程登陆数据库
`ssh -q -l ubuntu -p 22 123.206.75.248`
	主要参数说明：

-l 指定登入用户
-p 设置端口号
-f 后台运行，并推荐加上 -n 参数
-n 将标准输入重定向到 /dev/null，防止读取标准输入
-N 不执行远程命令，只做端口转发
-q 安静模式，忽略一切对话和错误提示
-T 禁用伪终端配置

1.安装数据库
  安装数据库时遇到的问题是，第一次安装的时候将数据库恶用户密码设置为空，担当实际项目连接的时候发现总是在包数据库的密码错误，为此重新安装了一遍数据库，并为他设置密码，之后才能够正确的连接上连接。

2.数据库远程访问
  之后将将让别人连接本地数据库是也遇到了密码的问题
通过一下语句来赋予远程权限

```
grant all privileges on 库名.表名 to '用户名'@'IP地址' identified by '密码' with grant option;
flush privileges;
```

库名:要远程访问的数据库名称,所有的数据库使用“*” 
表名:要远程访问的数据库下的表的名称，所有的表使用“*” 
用户名:要赋给远程访问权限的用户名称 
IP地址:可以远程访问的电脑的IP地址，所有的地址使用“%” 
密码:要赋给远程访问权限的用户对应使用的密码

示例：`GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'lxh' WITH GRANT OPTION;`
 # 所有的地址都可以使用root用户，密码为lxh远程访问所有的数据库
flush privileges;

2.在服务器上操作数据库
遇到问题的主要原因是之前长期停留在图形化的操作，对命令行操作很生疏造成的。
连接数据库：`mysql -u root -p`
下一步会提示你输入密码。

创建数据库，并指定编码格式：
`CREATE DATABASE xxx DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;`

注意要在所有的命令之后加上；，我因为分号的问题搞了好长时间。
